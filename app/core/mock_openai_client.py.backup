# app/core/mock_openai_client.py
import os
import time
from dotenv import load_dotenv

load_dotenv()

class MockOpenAIClient:
    """ì‹¤ì œ API ì—†ì´ ì‘ë™í•˜ëŠ” ëª©ì—… í´ë¼ì´ì–¸íŠ¸"""

    def init(self):
        print("âœ… Mock OpenAI client initialized")
        print("ğŸ­ Using mock responses (no real API needed)")

    def generate_concept(self, brand: str, keywords: str) -> str:
        """ê´‘ê³  ì»¨ì…‰ ìƒì„± (ëª©ì—…)"""
        print("ğŸ¨ Generating advertisement concept...")
        time.sleep(1)  # API í˜¸ì¶œ ì‹œë®¬ë ˆì´ì…˜

        concept = f"""
ğŸ¯ {brand} Advertisement Concept

Main Message: "Experience the magic of {brand}"

Scene Breakdown:
1. Opening (0-10s): Cozy atmosphere with {keywords}
2. Product Focus (10-20s): Featured items and happy customers  
3. Closing (20-30s): Brand logo with memorable tagline

Narration: "When you need comfort, {brand} is here for you."

Visual Style: Warm colors, natural lighting, emotional connections
"""
        print("âœ… Concept generated successfully")
        return concept

    def test_connection(self) -> bool:
        """ì—°ê²° í…ŒìŠ¤íŠ¸ (ëª©ì—…)"""
        print("ğŸ”— Testing connection...")
        time.sleep(0.5)
        print("âœ… Mock connection successful!")
        return True

def test_mock_system():
    """ëª©ì—… ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸"""
    print("ğŸ§ª Mock AI Advertisement System Test")
    print("=" * 40)

    try:
        client = MockOpenAIClient()

        print("\n1ï¸âƒ£ Testing Connection...")
        if not client.test_connection():
            return False

        print("\n2ï¸âƒ£ Generating Concept...")
        concept = client.generate_concept("Starbucks", "winter, cozy, warmth")

        print("\nğŸ“‹ Generated Concept:")
        print("-" * 30)
        print(concept)
        print("-" * 30)

        print("\nğŸ‰ Mock system test successful!")
        print("ğŸ’¡ This shows how the real system would work!")

        return True

    except Exception as e:
        print(f"ğŸ’¥ Test failed: {str(e)}")
        return False

if name == "main":
    test_mock_system()